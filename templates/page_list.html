{% extends 'base.html' %}
{% load static %}

{% block content %}
{% for page in page_list %}
<h2>{{ page.title }}</h2>
<div>
  <!-- Display featured image. Instructions from CI Django blog walkthrough: -->
  {% if "placeholder" in page.featured_image.url %}
  <img class="featured-image" src="{% static 'images/placeholder.jpg' %}" width="100%">
  {% else %}
  <img class="featured-image" src=" {{ page.featured_image.url }}" width="100%">
  {% endif %}
</div>
<p>{{ page.content|safe }}</p>
{% if is_paginated %}
<nav aria-label="Page navigation">
  <ul class="pagination justify-content-center">
    {% if page_obj.has_previous %}
    <li class="page-item"> <a class="page-link" href="?page={{ page_obj.previous_page_number }}" aria-label="Previous">
        <span aria-hidden="true">&laquo;</span> <span class="sr-only">Previous</span> </a> </li>
    {% endif %}

    <!-- Documentation for paginator page range: -->
    <!-- https://docs.djangoproject.com/en/4.2/ref/paginator/#django.core.paginator.Paginator.page_range -->
    {% for page_number in page_obj.paginator.page_range %}
    <li class="page-item {% if page_number == page_obj.number %}active{% endif %}">
      <a class="page-link" href="?page={{ page_number }}">{{ page_number }}</a>
    </li>
    {% endfor %}

    {% if page_obj.has_next %}
    <li class="page-item"> <a class="page-link" href="?page={{ page_obj.next_page_number }}" aria-label="Next">
        <span aria-hidden="true">&raquo;</span> <span class="sr-only">Next</span> </a> </li>
    {% endif %}
  </ul>
</nav>
{% endif %}
{% endfor %}
{% endblock %}
